function isScrolledIntoView(e){var s=$(e),o=$(window),a=o.scrollTop(),l=a+o.height(),t=s.offset().top;return t+s.height()<=l&&a<=t}$(window).on("scroll",function(){isScrolledIntoView($("#mainForm"))?$(".campaign-button").removeClass("fadeInUp").addClass("fadeOutDown"):$(".campaign-button").removeClass("fadeOutDown").addClass("fadeInUp")}),$(document).ready(function(){function e(e){if(!e.disabled){var s="";return 1<cityHotelMap[e.id].hotels.length?s+="<span> ("+cityHotelMap[e.id].hotels.length+" "+miscellaneous.hotelPlural+") </span>":s+="<span> ("+cityHotelMap[e.id].hotels.length+" "+miscellaneous.hotelSingular+") </span>",$('<p class="option-city">'+e.text+" "+s+"<p>")}}$("#name").blur(function(){""===$("#name").val()?$(this).addClass("error"):$(this).removeClass("error"),""!==$("#name").val()&&0===$("form .error").length&&""!==$("#email").val()&&$("#privacyPolicy:checked").length?$(".form-btn").addClass("active").removeAttr("disabled"):$(".form-btn").removeClass("active").prop("disabled",!0)}),$(".question1 .btn").on("click",function(){$(".question1").addClass("hide"),$(".question2").removeClass("hide").addClass("show"),$(".question2 h3").addClass("fadeInUp"),$(".question2 img").addClass("zoomInDown"),$(".dot2").addClass("active")}),$(".question2 .btn").on("click",function(){$(".question2").removeClass("show").addClass("hide"),$(".question3").removeClass("hide").addClass("show"),$(".question3 h3").addClass("fadeInUp"),$(".question3 img").addClass("zoomInDown"),$(".dot3").addClass("active")}),$(".question3 .btn").on("click",function(){$(".questions").removeClass("show").addClass("hide"),$(".results-wrap").removeClass("hide").addClass("show"),$(".dot4").addClass("active"),$(".result-gallery img").addClass("zoomIn"),$(".chart-horiz span").addClass("animate"),$(".campaign-button").addClass("fadeInUp")}),$("#email").blur(function(){""===$("#email").val()?$(this).addClass("error"):$(this).removeClass("error"),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test($("#email").val())&&0===$("form .error").length&&""!==$("#name").val()&&0===$("form .error").length&&$("#privacyPolicy:checked").length?$(".form-btn").addClass("active").removeAttr("disabled"):$(".form-btn").removeClass("active").prop("disabled",!0)}),$("#privacyPolicy").change(function(){0===$("#privacyPolicy:checked").length?$(this).addClass("error"):$(this).removeClass("error"),""!==$("#name").val()&&0!==$("#privacyPolicy:checked").length&&""!==$("#email").val()?$(".form-btn").addClass("active").removeAttr("disabled"):$(".form-btn").removeClass("active").prop("disabled",!0)}),$(".form-btn").on("click",function(){$(".results-wrap").removeClass("show").addClass("hide"),$(".thank-you").removeClass("hide").addClass("show"),$("footer").hide(),l("fukuoka")}),$(".js-slider-control").select2({containerCssClass:"city-container",dropdownCssClass:"city-container-options",minimumResultsForSearch:-1,templateResult:e,templateSelection:e});var s=document.getElementById("popup"),o=document.getElementById("popup-button"),a=document.getElementsByClassName("close")[0];function l(e){for(var s="",o=0;o<cityHotelMap[e].hotels.length;o++){var a=cityHotelMap[e].hotels[o];s+='<div><img data-lazy="../dist/images/'+a.img+'" /> <h6>'+a.name+"</h6> <p>"+a.address+'</p> <button class="js-slider-choose" data-city="'+e+'" data-hotel="'+a.name+'" data-url="'+a.URL+'">'+miscellaneous.sliderSelectButton+"</button></div>"}$(".js-slider").empty().append(s).slick({lazyLoad:"ondemand",slidesToShow:3,speed:2e3,slidesToScroll:3,dots:!0,responsive:[{breakpoint:900,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,centerMode:!0,arrows:!1}}]}),setTimeout(function(){var e=$(".slick-track").height();$(".slick-slide").css("height",e-15+"px")},100)}null!=o&&(o.onclick=function(){s.style.display="block",$("body, html").addClass("not-scrollable")}),null!=a&&(a.onclick=function(){s.style.display="none",$("body, html").removeClass("not-scrollable")}),window.onclick=function(e){e.target==s&&(s.style.display="none",$("body, html").removeClass("not-scrollable"))},$(document).keyup(function(e){27==e.keyCode&&(s.style.display="none",$("body, html").removeClass("not-scrollable"))}),$(".js-slider-control").on("change",function(e){var s=e.target.value;$(".js-slider").slick("unslick"),l(s)}),$(".campaign-button a").on("click",function(e){$("html,body").animate({scrollTop:$("#mainForm").offset().top},"slow")}),$(".thank-you").on("click",".js-slider-choose",function(){url=$(this).attr("data-url"),window.open(url)})});